<!DOCTYPE html>
<html lang="en" ng-app="ebApp">
<% include header %>
<script type="text/javascript" src="/js/report.js"></script>
<body>
    <% include navbar %>
    <div ng-controller="reportCtrl">
	    <div class="jumbotron">
	        <div class="container">
	            <div class="page-header">
		            <h1>
		                Monthly Report
		            </h1>
		        </div>
		        <div class="panel panel-default">
		            <div class="panel-heading">
			            Generated Report for {{months[currMonth]}}:
		        		</div>
		        		<div class="panel-body">
			        		<div class="col-md-6">
			        			<h3 align="center">Debit</h3>
				        		<table class="table">
					        		<thead>
									      <tr>
									        <th>Type</th>
									        <th>Name</th>
									        <th>Amount/$</th>
									        <th>Date</th>
									      </tr>
									    </thead>
									    <tbody>
										    <tr ng-repeat='trans in transactions'>
										    	<td>Transaction</td>
										    	<td>{{getMerchName(trans.merchant)}}</td>
					        				<td>-{{trans.amount}}</td>
					        				<td>{{trans.date.substring(0,10)}}</td>
					        			</tr>
					        			<tr ng-repeat='trans in outgoing'>
					        				<td>Transfer</td>
										    	<td>{{getUserName(trans.to)}}</td>
					        				<td>-{{trans.amount}}</td>
					        				<td>{{trans.date.substring(0,10)}}</td>
					        			</tr>
									    </tbody>
				        		</table>
			        		</div>
			        		
			        		<div class="col-md-6">
			        			<h3 align="center">Credit</h3>
				        		<table class="table">
					        		<thead>
									      <tr>
									        <th>Type</th>
									        <th>Name</th>
									        <th>Amount/$</th>
									        <th>Date</th>
									      </tr>
									    </thead>
									    <tbody>
										    <tr ng-repeat='trans in incoming'>
										    	<td>Transfer</td>
										    	<td>{{getUserName(trans.from)}}</td>
					        				<td>+{{trans.amount}}</td>
					        				<td>{{trans.date.substring(0,10)}}</td>
					        			</tr>
									    </tbody>
				        		</table>
			        		</div>
		        		</div>
		        		<div class="panel-footer">
		        			End of month balance: {{balance}}
		        			<div class="pull-right">
		        			<a href="#">Print</a>
		        			</div>
		        		</div>
		        </div>
	        </div>
	    </div>
 	</div>
 	
    <div class="container">
        <hr>
        <% include footer %>
    </div>
</body>
</html>